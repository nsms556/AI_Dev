# [Week16 - Day1] Recommend System 1

## 1. 추천 엔진이란
  - 유저와 아이템
    - 유저 : 서비스를 사용하는 사람
    - 아이템 : 서비스에서 판매하는 물품, 다른 유저가 될 수도 있음
  - 서비스 성장 -> 유저/아이템 수 성장
    - 유저의 성장 ↑↑↑
    - 아이템 수가 커지면서 아이템 디스커버리 문제 대두
      - 모든 유저가 능동적이지 않으며 사람들이 점점 추천(수동적)에 의존
  - 추천 엔진의 정의
    - 알파 제인 : 사용자가 관심있어 할만한 아이템을 제공해주는 자동화 시스템
      - 키워드 : 관심 - 자동화
    - 디팍 아그라왈 : 비즈니스의 장기적 목표를 개선하기 위해 유저에게 알맞은 아이템을 자동으로 보여주는 시스템
      - 키워드 : 장기적 목표 - 자동화
  - 필요성
    - 약간의 노력 -> 유저가 관심있어 할만한 아이템 탐색
      - 아이템의 수가 굉장히 큰 경우에 더 의미 있음
      - 개인화로 연결
      - 전혀 관심없을 듯한 아이템도 추천 가능
    - 회사에서는 엔진 기반으로 다양한 기능 추가
      - 마케팅에 사용
      - 관련 상품 추천으로 확장 가능
    - 아이템 수가 많아서 원하는 것을 찾기 어려움
      - 검색의 수고를 덜어줌
    - 신상품들의 마케팅 가능
      - 새 아이템들의 노출 횟수 증가
    - 인기 아이템 외에 롱 테일의 다양한 아이템 노출 가능
      - 개인화가 잘 이뤄지면 가능
  - 추천은 매칭 문제
    - 유저에게 맞는 아이템 매칭
      - 아이템은 서비스에 따라 변화, 다른 유저가 아이템이 될 수도
        - 친구 추천, 소개팅 매칭 앱
    - 어떤 아이템을 추천할 것인가
      - 주로 협업 필터링을 통한 추천
    - UI
      - 추천 유닛 존재, 이를 어떤 순서로 노출시킬 것인가
    - 유저와 아이템에 대한 부가정보가 필요
      - 아이템
        - 분류 체계 필요, 태그 형태로 부가정보 유지
      - 유저
        - 개인정보 : 성별, 나이
        - 아이템 정보
          - 관심 카테고리, 서브 카테고리, 태그, 
          - 아이템 클릭, 구매 
      - 추천의 기준?
        - 클릭, 매출, 소비, 평점 
  - 추천 엔진의 공통점 (넷플릭스, 유데미, 링크드인, 스포티파이)
    - 격자 형태의 UI
    - 다양한 종류의 추천 유닛
      - 개인화 유닛, 인기도 유닛(비개인화)
      - 추천 유닛의 랭킹이 중요
        - 모델을 통한 개인화 추세
        - 클릭을 최적화하고 데이터 수집을 위한 실험

## 2. 추천엔진의 종류
  - 다양한 추천 알고리즘
    - 아이템 기반 (컨텐츠 기반)
      - 개인화 X, 유사한 아이템 기반
      - 텍스트 처리가 필요하기도
    - 협업 필터링 (평점 기준)
      - 다른 유저의 정보를 이용하여 내 관심을 예측
        - 유저 기반 : 나와 비슷한 평점 패턴을 보이는 유저를 찾아서 해당 유저들이 평점을 높게 매긴 아이템 추천
        - 아이템 기반 : 평점의 패턴이 비슷한 아이템을 찾아서 추천
    - 유저 행동 기반
      - 아이템 클릭, 구매, 소비 등의 정보 기반
        - 유저와 아이템에 대한 부가 정보 필요
        - 구현이 간단하고 유용
      - 모델링을 통해 유저와 아이템 페어에 대한 클릭 확률 등 점수 계산
        - 의사 결정 트리, 딥러닝 등
        - 유데미 사용
    - 이외에 다수 존재
    - 많은 경우에서 알고리즘들을 하이브리드 형태로 사용
  - 아이템 기반
    - 아이템의 유사도를 측정하여 추천
      - 많은 경우 NLP를 사용해 텍스트 정보를 벡터로 변환
        - 단어 카운트, TF-IDF 카운트, 임베딩
    - 개인화 X
      - 모든 사람에게 동일한 아이템 추천
    - 구현이 간단함
      - 대개 아이템 수가 유저 수보다 작음
  - 협업 필터링 기반
    - User to User
      - 나와 비슷한 평점 패턴을 보이는 유저를 찾아서 해당 유저들이 높게 평가한 아이템을 추천
      - 나와 비슷한 유저를 찾는 방법이 중요
        - 유저 프로필 정보 구축, 프로필간 유사도 계산
    - Item to Item
      - 아이템 간 유사도 비교에서 시작
      - 유저-유저보다 더 안정적이고 좋은 성능
        - 아이템 수가 작으므로 유저에 비해 평점 수가 평균적으로 더 많고 계산량이 적음
    - 유사도 측정
      - 두 비교대상을 N차원 좌표로 표현
      - 코사인 유사도, 피어슨 상관계수
    - 문제점
      - Cold Start
        - 유저 : 평점을 준 아이템이 없는 경우
        - 아이템 : 평점을 준 유저가 없는 경우
        - 아이템 기반 유저 행동 기반과 병행하여 해결
      - 리뷰 정보의 부족
      - 업데이트 시점
        - 유저, 아이템이 추가되면 유사도를 다시 계산
      - 확장성
        - 유저와 아이템이 늘어나면서 계산에 오래 걸림
        - Spark 등 인프라가 필요
    - 구현
      - 메모리 기반
        - 유저간, 아이템간 유사도를 미리 계산
        - 요청이 오면 유사한 대상을 찾아 이를 바탕으로 아이템 추천
        - 구현과 이해가 쉬움
      - 모델 기반
        - 넷플릭스 프라이즈 컨테스트에서 고안된 방식
          - 유저-아이템 행렬에서 비어있는 평점을 SGD로 채우는 방식
        - Singular Vector Decomposision 사용
          - 최근엔 딥러닝의 AutoEncoder 사용하기도 함
        - 평점을 포함해 다른 유저의 행동을 예측하는 방식으로 진화
  - 유저 행동 기반
    - 유저 행동을 보고 그에 맞게 아이템 추천
      - 주로 암시적 정보(클릭, 구매, 소비)에 기반
    - 크게 두 종류
      - 행동 기반 간단한 추천 유닛
        - 유저가 관심을 보인 특정 카테고리의 새 아이템
        - 유저가 관심을 보인 특정 카테고리의 인기 아이템
      - 유저 행동을 예측하는 추천
        - 지도 학습 문제로 접근
        - 무엇을 예측하느 모델인지 먼저 생각
  - 지도학습 방식 엔진
    - 어느 기준으로 추천을 하는지가 중요
      - 머신 러닝 라벨 정보
    - 크게 두 종류 힌트 사용
      - 명시적
        - 평점, 좋아요
      - 암시적
        - 클릭보다는 소비 여부, 구매가 더 좋은 힌트
        - 클릭은 노이즈가 존재, 관심없는 아이템의 파악이 쉬움
        - 유저의 자세한 행동 정보 수집, 저장, 가공 필요

## 3. 요약
  - 추천 : 유저가 관심있어할 만한 아이템을 제시
  - 대표 알고리즘 : 아이템기반, 협업 필터링
  - UI, 유닛 랭킹도 중요